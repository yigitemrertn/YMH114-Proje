<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ForumFU - Konu Detayı</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/detailed-post.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ...existing code... */
        .comment-user-info {
            display: flex;
            align-items: center;
            gap: 0.5em;
        }
        .comment-user-info .user-details {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .comment-user-info .username {
            font-weight: 600;
            color: #3498db;
            font-size: 1em;
            line-height: 1.1;
        }
        .comment-user-info .comment-time {
            font-size: 0.92em;
            color: #888;
            margin-left: 0;
            margin-top: 2px;
            display: block;
        }
        /* Post sahibi için de aynı renk */
        .post-user-info .user-details .username {
            font-weight: 600;
            color: #3498db;
            font-size: 1em;
            line-height: 1.1;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <a href="/" class="logo"><h1>ForumFU</h1></a>
            </div>
            <div class="nav-controls">
                <button class="theme-toggle" aria-label="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="auth-buttons" id="authButtons">
                    <a href="login.html" class="auth-button login-button">
                        <i class="fas fa-sign-in-alt"></i>
                        Giriş Yap
                    </a>
                    <a href="registration.html" class="auth-button register-button">
                        <i class="fas fa-user-plus"></i>
                        Kayıt Ol
                    </a>
                </div>
                <div class="hamburger-container" id="hamburgerContainer" style="display: none;">
                    <button class="hamburger-button" aria-label="Menüyü Aç">
                        <span class="hamburger-icon"></span>
                    </button>
                    <div class="hamburger-menu">
                        <a href="/" class="menu-item">
                            <i class="fas fa-home"></i>
                            Ana Sayfa
                        </a>
                        <a href="create-post.html" class="menu-item">
                            <i class="fas fa-plus-circle"></i>
                            Konu Oluştur
                        </a>
                        <a href="profile.html" class="menu-item">
                            <i class="fas fa-user"></i>
                            Profil
                        </a>
                        <a href="settings.html" class="menu-item">
                            <i class="fas fa-cog"></i>
                            Ayarlar
                        </a>
                        <a href="/logout.php" class="menu-item">
                            <i class="fas fa-sign-out-alt"></i>
                            Çıkış Yap
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="post-container">
            <div class="post-header">
                <div class="post-meta">
                    <div class="author-info">
                        <img src="" alt="Profil Fotoğrafı" class="author-avatar" id="authorAvatar">
                        <div class="author-details">
                            <span class="author-name">Yükleniyor...</span>
                            <span class="post-date">Yükleniyor...</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <article class="post-content">
                <h1 class="post-title">Yükleniyor...</h1>
                <div class="post-text">Yükleniyor...</div>
            </article>

            <div class="post-actions">
                <button class="action-button share-button" onclick="sharePost()">
                    <i class="fas fa-share"></i>
                    Paylaş
                </button>
                <button class="action-button report-button" onclick="reportPost()">
                    <i class="fas fa-flag"></i>
                    Bildir
                </button>
            </div>

            <section class="comments-section">
                <h2>Yorumlar</h2>
                <div class="comment-form-container">
                    <textarea id="commentInput" placeholder="Yorumunuzu yazın..." class="comment-input"></textarea>
                    <button onclick="submitComment()" class="submit-comment">Yorum Yap</button>
                </div>
                <div class="comments-list">
                    <!-- Yorumlar buraya yüklenecek -->
                </div>
            </section>
        </div>
    </main>

    <script>
    function formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        if (diffDays === 0) {
            const diffHours = Math.floor(diffTime / (1000 * 60 * 60));
            if (diffHours === 0) {
                const diffMinutes = Math.floor(diffTime / (1000 * 60));
                return `${diffMinutes} dakika önce`;
            }
            return `${diffHours} saat önce`;
        } else if (diffDays === 1) {
            return 'Dün';
        } else if (diffDays < 7) {
            return `${diffDays} gün önce`;
        } else {
            return date.toLocaleDateString('tr-TR');
        }
    }
    </script>
    <script src="js/hamburger.js"></script>
    <script src="js/theme-toggle.js"></script>
    <script src="js/detailed-post.js"></script>
</body>
</html>
